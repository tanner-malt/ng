<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Toast Demo</title>
    <link rel="stylesheet" href="public/game.css">
    
    <style>
        body { 
            background: #2c3e50; 
            color: white; 
            padding: 20px; 
            font-family: Arial, sans-serif;
        }
        .demo-section { 
            margin: 20px 0; 
            padding: 20px; 
            background: #34495e; 
            border-radius: 8px; 
        }
        .demo-btn { 
            background: #3498db; 
            color: white; 
            border: none; 
            padding: 10px 15px; 
            margin: 5px; 
            border-radius: 5px; 
            cursor: pointer; 
            font-size: 14px;
        }
        .demo-btn:hover { background: #2980b9; }
        .demo-btn.success { background: #2ecc71; }
        .demo-btn.danger { background: #e74c3c; }
        .demo-btn.warning { background: #f39c12; }
    </style>
</head>
<body>
    <h1>üçû Mini Toast System Demo</h1>
    
    <div class="demo-section">
        <h2>üì¶ Resource Changes</h2>
        <button class="demo-btn success" onclick="showResourceChange('food', 25)">+25 Food</button>
        <button class="demo-btn success" onclick="showResourceChange('wood', 15)">+15 Wood</button>
        <button class="demo-btn success" onclick="showResourceChange('stone', 10)">+10 Stone</button>
        <button class="demo-btn success" onclick="showResourceChange('metal', 5)">+5 Metal</button>
        <button class="demo-btn success" onclick="showResourceChange('gold', 100)">+100 Gold</button>
        <button class="demo-btn success" onclick="showResourceChange('population', 3)">+3 Population</button>
        
        <br><br>
        
        <button class="demo-btn danger" onclick="showResourceChange('food', -10)">-10 Food</button>
        <button class="demo-btn danger" onclick="showResourceChange('wood', -20)">-20 Wood</button>
        <button class="demo-btn danger" onclick="showResourceChange('stone', -15)">-15 Stone</button>
    </div>
    
    <div class="demo-section">
        <h2>üèóÔ∏è Building Completions</h2>
        <button class="demo-btn success" onclick="showBuildingComplete('house')">House Complete</button>
        <button class="demo-btn success" onclick="showBuildingComplete('farm')">Farm Complete</button>
        <button class="demo-btn success" onclick="showBuildingComplete('townCenter')">Town Center Complete</button>
        <button class="demo-btn success" onclick="showBuildingComplete('barracks')">Barracks Complete</button>
        <button class="demo-btn success" onclick="showBuildingComplete('mine')">Mine Complete</button>
    </div>
    
    <div class="demo-section">
        <h2>‚ö° Custom Mini Toasts</h2>
        <button class="demo-btn" onclick="showMiniToast('‚ö°')">Lightning Icon</button>
        <button class="demo-btn" onclick="showMiniToast('üéâ', '+1 Level')">Level Up</button>
        <button class="demo-btn" onclick="showMiniToast('‚öîÔ∏è', 'Win!')">Battle Won</button>
        <button class="demo-btn" onclick="showMiniToast('üíÄ', 'Defeated')">Battle Lost</button>
        <button class="demo-btn warning" onclick="showMiniToast('‚ö†Ô∏è', 'Warning!')">Warning</button>
    </div>
    
    <div class="demo-section">
        <h2>üé™ Spam Test</h2>
        <button class="demo-btn" onclick="spamTest()">Spam 10 Toasts</button>
        <button class="demo-btn" onclick="mixedSpamTest()">Mixed Resource Changes</button>
    </div>

    <!-- Load required scripts -->
    <script src="src/uiPopups.js"></script>

    <script>
        function spamTest() {
            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    const resources = ['food', 'wood', 'stone', 'metal', 'gold'];
                    const resource = resources[Math.floor(Math.random() * resources.length)];
                    const amount = Math.floor(Math.random() * 50) + 1;
                    window.showResourceChange(resource, amount);
                }, i * 100);
            }
        }
        
        function mixedSpamTest() {
            // Simulate a day's worth of mixed resource changes
            const events = [
                () => window.showResourceChange('food', 15),
                () => window.showResourceChange('wood', -10),
                () => window.showBuildingComplete('farm'),
                () => window.showResourceChange('stone', 8),
                () => window.showResourceChange('population', 2),
                () => window.showMiniToast('‚ö°', 'Boost!'),
                () => window.showResourceChange('gold', -25),
                () => window.showBuildingComplete('house'),
            ];
            
            events.forEach((event, index) => {
                setTimeout(event, index * 300);
            });
        }
        
        // Test basic functionality on load
        window.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                if (window.showMiniToast) {
                    window.showMiniToast('‚úÖ', 'System Ready');
                } else {
                    alert('Mini toast system not loaded!');
                }
            }, 500);
        });
    </script>
</body>
</html>
