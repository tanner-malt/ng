<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Console - Idle: Dynasty Builder</title>
    <style>
        body { font-family: monospace; padding: 20px; background: #000; color: #0f0; }
        #console { border: 1px solid #0f0; padding: 10px; height: 400px; overflow-y: auto; }
        .error { color: #f00; }
        .warn { color: #ff0; }
        .info { color: #0ff; }
    </style>
</head>
<body>
    <h1>Debug Console</h1>
    <div id="console"></div>
    
    <script>
        // Capture console output
        const consoleDiv = document.getElementById('console');
        const originalLog = console.log;
        const originalError = console.error;
        const originalWarn = console.warn;
        
        function addToConsole(message, type = 'info') {
            const div = document.createElement('div');
            div.className = type;
            div.textContent = new Date().toLocaleTimeString() + ' - ' + message;
            consoleDiv.appendChild(div);
            consoleDiv.scrollTop = consoleDiv.scrollHeight;
        }
        
        console.log = function(...args) {
            addToConsole(args.join(' '), 'info');
            originalLog.apply(console, args);
        };
        
        console.error = function(...args) {
            addToConsole(args.join(' '), 'error');
            originalError.apply(console, args);
        };
        
        console.warn = function(...args) {
            addToConsole(args.join(' '), 'warn');
            originalWarn.apply(console, args);
        };
        
        // Capture errors
        window.addEventListener('error', function(e) {
            addToConsole(`ERROR: ${e.message} at ${e.filename}:${e.lineno}`, 'error');
        });
        
        console.log('Debug console initialized');
    </script>
    
    <!-- Load the game scripts -->
    <script src="../src/gameState.js"></script>
    <script src="../src/modalSystem.js"></script>
    <script src="../src/village.js"></script>
    <script src="../src/battle.js"></script>
    <script src="../src/throne.js"></script>
    <script src="../src/monarch.js"></script>
    <script src="../src/quest.js"></script>
    <script src="../src/quests.js"></script>
    <script src="../src/tutorial.js"></script>
    <script src="../src/uiPopups.js"></script>
    <script src="../src/app.js"></script>
    
    <script>
        console.log('All scripts loaded, attempting to start game...');
        
        // Try to start the game
        try {
            if (typeof window.startGame === 'function') {
                console.log('startGame function found, calling it...');
                window.startGame();
            } else {
                console.error('startGame function not found!');
            }
        } catch (error) {
            console.error('Error starting game:', error.message);
            console.error('Stack:', error.stack);
        }
    </script>
</body>
</html>
