<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Idle: Dynasty Builder</title>
    <link rel="stylesheet" href="game.css">
    <link rel="stylesheet" href="progress-icons.css">
    <style>
        /* Simple debug indicator */
        .debug-indicator {
            position: fixed;
            top: 10px;
            left: 10px;
            background: rgba(255,0,0,0.8);
            color: white;
            padding: 5px;
            font-family: monospace;
            z-index: 9999;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="debug-indicator" id="debug-indicator">
        Terrain: Loading...
    </div>

    <!-- Top Right Icons -->
    <div id="top-right-icons">
        <button id="sound-btn" class="icon-btn" title="Sound">
            <span>üîä</span>
        </button>
        <button id="tutorial-btn" class="icon-btn" title="Tutorial & Help">
            <span>üìö</span>
        </button>
        <button id="quest-btn" class="icon-btn" title="Expeditions & Quests">
            <span>üó∫Ô∏è</span>
        </button>
        <button id="settings-btn" class="icon-btn" title="Settings">
            <span>‚öôÔ∏è</span>
        </button>
        <button id="progress-btn" class="icon-btn progress-incomplete" title="Progression">
            <span id="progress-icon">üèÜ</span>
        </button>
    </div>

    <!-- Notification overlay and container for tutorial/milestone notifications -->
    <div id="notification-overlay" style="display:none;"></div>
    <div id="notification-container" style="display:flex;"></div>

    <!-- Game Container -->
    <div id="game-container">
        <nav id="view-navigation">
            <button class="nav-btn active" data-view="village" id="village-tab">Village</button>
            <button class="nav-btn" data-view="battle" id="battle-tab">Battle</button>
            <button class="nav-btn" data-view="monarch" id="monarch-tab">Monarch (LOCKED)</button>
            <button class="nav-btn" data-view="throne" id="throne-tab">Throne</button>
        </nav>
        
        <main id="game-content">
            <!-- Village View -->
            <div id="village-view" class="game-view active">
                <div class="village-header">
                    <h2>Village Management</h2>
                    <div class="resource-panel">
                        <span>Food: <span id="food-count">100</span></span>
                        <span>Wood: <span id="wood-count">50</span></span>
                        <span>Stone: <span id="stone-count">25</span></span>
                        <span>Population: <span id="population-count">10</span></span>
                        <span>Season: <span id="season-count">Spring</span></span>
                    </div>
                </div>
                
                <div class="village-content">
                    <div id="village-grid" class="village-grid"></div>
                    
                    <div class="village-sidebar">
                        <div class="village-info">
                            <h3>Buildings</h3>
                            <div class="building-list">
                                <button class="building-btn" data-building="house" title="Cost: 10 Wood">
                                    House (10 Wood)
                                </button>
                                <button class="building-btn" data-building="farm" title="Cost: 15 Wood, 5 Stone">
                                    Farm (15 Wood, 5 Stone)
                                </button>
                                <button class="building-btn" data-building="townCenter" title="Cost: 30 Wood, 25 Stone">
                                    Town Center (30 Wood, 25 Stone)
                                </button>
                                <button class="building-btn" data-building="barracks" title="Cost: 30 Wood, 20 Stone">
                                    Barracks (30 Wood, 20 Stone)
                                </button>
                            </div>
                            
                            <div class="village-stats">
                                <h3>Village Stats</h3>
                                <p>Buildings: <span id="building-count">0</span></p>
                                <p>Happiness: <span id="happiness">100%</span></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="../src/gameState.js"></script>
    <script src="../src/modalSystem.js"></script>
    <script src="../src/village.js"></script>
    <script src="../src/battle.js"></script>
    <script src="../src/throne.js"></script>
    <script src="../src/monarch.js"></script>
    <script src="../src/quest.js"></script>
    <script src="../src/quests.js"></script>
    <script src="../src/tutorial.js"></script>
    <script src="../src/uiPopups.js"></script>
    <script src="../src/app.js"></script>
    
    <script>
        // Simple debug to track terrain creation
        setTimeout(() => {
            const terrainTiles = document.querySelectorAll('.terrain-tile');
            const debugIndicator = document.getElementById('debug-indicator');
            debugIndicator.textContent = `Terrain: ${terrainTiles.length} tiles created`;
            
            if (terrainTiles.length > 0) {
                debugIndicator.style.background = 'rgba(0,255,0,0.8)';
                console.log('Terrain tiles found, checking first tile:', terrainTiles[0]);
                console.log('First tile style:', terrainTiles[0].style.cssText);
                console.log('First tile computed style:', window.getComputedStyle(terrainTiles[0]));
            }
        }, 2000);
    </script>
</body>
</html>
